<!DOCTYPE html>
<html>
   <head>
      <title>ApiDSL header generator</title>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <script type="text/javascript" src="apigen.bc.js"></script>
      <script type="text/javascript" src="apidsl-support.js"></script>
      <style>
         #editor { width: 100%; height: 100%; }
         #error { color: red; }
         #left { background-color: #eee; width: 50%; }
         #right { background-color: #aea; width: 50%; }
         #input { width: 100%; height: 100%; box-sizing: border-box; }
         #output { width: 100%; height: 100%; }
         body { vertical-align: top; }
      </style>
   </head>
   <body>
      <h2>ApiDSL editor</h2>
      <form onchange="process()">
         Output format:
         <input type="radio" id="api" name="format" value="api" checked="checked">
         <label for="api">ApiDSL</label>
         <input type="radio" id="c" name="format" value="c">
         <label for="c">C</label>
         <input type="radio" id="haskell" name="format" value="haskell">
         <label for="haskell">Haskell</label>
         <input type="radio" id="ast" name="format" value="ast">
         <label for="ast">AST</label>
      </form>
      <table id="editor">
         <tr style="height: 20em;">
            <td id="left">
               <textarea id="input" oninput="process()"></textarea>
            </td>
            <td id="right">
               <pre id="output"></pre>
            </td>
         </tr>
         <tr>
            <td id="error"></td>
         </tr>
      </table>
      <h2>Examples</h2>
      <ul id="examples">
         <li><a href="#" onclick="load('simple')">Simple declaration</a></li>
         <li><a href="#" onclick="load('comment')">Declaration with comment</a></li>
         <li><a href="#" onclick="load('namespace')">Namespaced functions and comment references</a></li>
         <li><a href="#" onclick="load('large')">Larger complex example</a></li>
         <li><a href="#" onclick="load('tox')">tox.api.h</a></li>
      </ul>
   </body>
</html>
